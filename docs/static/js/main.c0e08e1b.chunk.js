(this.webpackJsonpmaia_levoy_assignment3=this.webpackJsonpmaia_levoy_assignment3||[]).push([[0],{16:function(e,t,n){},19:function(e,t,n){"use strict";n.r(t);var c=n(1),s=n.n(c),r=n(8),a=n.n(r),i=(n(15),n(16),n(2)),l=n(7),o=n.n(l),u=n(9),j=n(3),d=n(0),b=function(e){var t=Object(c.useState)(""),n=Object(i.a)(t,2),s=n[0],r=n[1];return Object(d.jsxs)("div",{className:"m-4",children:[Object(d.jsx)("div",{className:"row text-center mb-4",children:Object(d.jsx)("h2",{className:"quiz-blue",children:"Choose your settings:"})}),Object(d.jsx)("form",{onSubmit:function(t){t.preventDefault(),e.setState(g.LOADING_QUESTIONS)},children:Object(d.jsxs)("div",{className:"row justify-content-center",children:[Object(d.jsxs)("div",{className:"col-12 col-sm-4 col-md-3",children:[Object(d.jsx)("label",{htmlFor:"number",children:Object(d.jsx)("small",{children:"Number of Questions"})}),Object(d.jsx)("input",{min:"1",max:"100",type:"number",className:"form-control",id:"number",value:e.params.number,onChange:function(t){return n=t.target.value,void((parseInt(n)>0&&parseInt(n)<101||""===n)&&(s&&r(""),e.setParams(Object(j.a)(Object(j.a)({},e.params),{},{number:n}))));var n}})]}),Object(d.jsxs)("div",{className:"col-12 col-sm-4",children:[Object(d.jsx)("label",{htmlFor:"question-type",children:Object(d.jsx)("small",{children:"Category"})}),Object(d.jsxs)("select",{className:"form-select",id:"question-type",value:e.params.category,onChange:function(t){return e.setParams(Object(j.a)(Object(j.a)({},e.params),{},{category:t.target.value}))},children:[Object(d.jsx)("option",{value:"any",children:"Any Category"}),Object(d.jsx)("option",{value:"9",children:"General Knowledge"}),Object(d.jsx)("option",{value:"10",children:"Entertainment: Books"}),Object(d.jsx)("option",{value:"11",children:"Entertainment: Film"}),Object(d.jsx)("option",{value:"12",children:"Entertainment: Music"}),Object(d.jsx)("option",{value:"13",children:"Entertainment: Musicals & Theatres"}),Object(d.jsx)("option",{value:"14",children:"Entertainment: Television"}),Object(d.jsx)("option",{value:"15",children:"Entertainment: Video Games"}),Object(d.jsx)("option",{value:"16",children:"Entertainment: Board Games"}),Object(d.jsx)("option",{value:"17",children:"Science & Nature"}),Object(d.jsx)("option",{value:"18",children:"Science Computers"}),Object(d.jsx)("option",{value:"19",children:"Science: Mathematics"}),Object(d.jsx)("option",{value:"20",children:"Mythology"}),Object(d.jsx)("option",{value:"21",children:"Sports"}),Object(d.jsx)("option",{value:"22",children:"Geography"}),Object(d.jsx)("option",{value:"23",children:"History"}),Object(d.jsx)("option",{value:"24",children:"Politics"}),Object(d.jsx)("option",{value:"25",children:"Art"}),Object(d.jsx)("option",{value:"26",children:"Celebrities"}),Object(d.jsx)("option",{value:"27",children:"Animals"}),Object(d.jsx)("option",{value:"28",children:"Vehicles"}),Object(d.jsx)("option",{value:"29",children:"Entertainment: Comics"}),Object(d.jsx)("option",{value:"30",children:"Science: Gadgets"}),Object(d.jsx)("option",{value:"31",children:"Entertainment: Japanese Anime & Manga"}),Object(d.jsx)("option",{value:"32",children:"Entertainment: Cartoon & Animations"})]})]}),Object(d.jsxs)("div",{className:"col-12 col-md-3 col-sm-4",children:[Object(d.jsx)("label",{htmlFor:"question-difficulty",children:Object(d.jsx)("small",{children:"Difficulty "})}),Object(d.jsxs)("select",{className:"form-select",id:"question-difficulty",value:e.params.difficulty,onChange:function(t){return e.setParams(Object(j.a)(Object(j.a)({},e.params),{},{difficulty:t.target.value}))},children:[Object(d.jsx)("option",{value:"any",children:"Any Difficulty"}),Object(d.jsx)("option",{value:"easy",children:"Easy"}),Object(d.jsx)("option",{value:"medium",children:"Medium"}),Object(d.jsx)("option",{value:"hard",children:"Hard"})]})]}),Object(d.jsx)("div",{className:"col-12 col-sm-4 mt-5 d-flex justify-content-center",children:Object(d.jsx)("button",{type:"submit",className:"btn btn-quiz px-3 px-md-5 ",children:"Start Game"})})]})})]})},m=n(10),O=function(e){var t=e.question,n=e.answers,c=e.submitted,s=e.setCurrentAnswer,r=e.currentAnswer;return n.map((function(e,n){return Object(d.jsx)("div",{className:"my-2 row justify-content-center",children:Object(d.jsxs)("div",{className:"radio-toolbar col-12 col-sm-8 col-md-6 row lead fs-4 ",children:[Object(d.jsx)("input",{disabled:c,"aria-disabled":c,type:"radio",name:"mc",id:e,value:e,checked:r===e,onFocus:function(e){return s(e.target.value)},onClick:function(e){return s(e.target.value)},onChange:function(){}}),Object(d.jsx)("label",{htmlFor:e,className:"lead fs-4 text-center  "+(c&&e===t.correct_answer?"bg-success text-light":c&&e!==t.correct_answer?"half-opacity text-dark":""),children:f(e)})]})},n)}))},h=function(e){var t=e.question,n=e.index,c=e.submitted,s=e.currentAnswer,r=e.setCurrentAnswer;return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("div",{className:"my-2 row justify-content-center",children:Object(d.jsxs)("div",{className:"radio-toolbar text-center lead fs-4 col-12 col-sm-8 col-md-6 row ",children:[Object(d.jsx)("input",{type:"radio",disabled:c,"aria-disabled":c,name:"tf",id:"true"+n,value:"True",checked:"True"===s,onFocus:function(e){return r(e.target.value)},onClick:function(e){return r(e.target.value)},onChange:function(){}}),Object(d.jsx)("label",{htmlFor:"true"+n,className:c&&"True"===t.correct_answer?"bg-success text-light":c&&"True"!==t.correct_answer?"half-opacity text-dark":"",children:"True"})]})}),Object(d.jsx)("div",{className:"row radio-toolbar justify-content-center my-3",children:Object(d.jsxs)("div",{className:"text-center lead fs-4 col-12 col-sm-8 col-md-6 row",children:[Object(d.jsx)("input",{type:"radio",disabled:c,"aria-disabled":c,name:"tf",id:"false"+n,value:"False",checked:"False"===s,onFocus:function(e){return r(e.target.value)},onChange:function(){}}),Object(d.jsx)("label",{htmlFor:"false"+n,className:c&&"False"===t.correct_answer?"bg-success text-light":c&&"False"!==t.correct_answer?"half-opacity text-dark":"",children:"False"})]})})]})},x=function(e){var t=e.state,n=e.setState;return Object(d.jsxs)("div",{className:"text-center mt-5 mx-3 lead",children:[t===g.LOADING_FAIL?Object(d.jsx)("p",{children:"Something went wrong, please try again."}):Object(d.jsx)("p",{children:"We could not set up a trivia session with your requested criteria. Please try again with a different category, difficulty level, and/or number of questions."}),Object(d.jsx)("button",{onClick:function(){return n(g.SETUP)},className:"mt-4 btn btn-quiz",children:"Return to Setup"})]})},f=function(e){return(new DOMParser).parseFromString(e,"text/html").body.innerText},p=function(e){var t=e.questions,n=e.setState,s=e.score,r=e.updateScorePercentage,a=Object(c.useState)(0),l=Object(i.a)(a,2),o=l[0],u=l[1],j=Object(c.useState)(!1),b=Object(i.a)(j,2),p=b[0],v=b[1],y=Object(c.useState)(""),N=Object(i.a)(y,2),S=N[0],w=N[1],C=Object(c.useState)([]),E=Object(i.a)(C,2),I=E[0],A=E[1],F=Object(c.useRef)(),_=t?t[o]:"";Object(c.useEffect)((function(){if(t)if(!1===p){for(var e=[].concat(Object(m.a)(_.incorrect_answers),[_.correct_answer]),n=e.length-1;n>0;n--){var c=Math.floor(Math.random()*n),s=e[n];e[n]=e[c],e[c]=s}A(e,_.incorrect_answers,_.correct_answer)}else F.current.focus()}),[p,_.incorrect_answers,_.correct_answer,t]);var q=function(e){e.preventDefault(),p?o===t.length-1?n(g.FINISHED):(v(!1),w(""),u(o+1)):(v(!0),S===_.correct_answer&&r(s+1))};return t.length?Object(d.jsxs)("div",{className:"row mx-4 mt-2 justify-content-center",children:[Object(d.jsxs)("div",{className:"row justify-content-between",children:[Object(d.jsxs)("div",{className:"col-sm-auto ms-md-5 my-2 py-2 text-center rounded-pill "+("medium"===_.difficulty?"bg-warning":"easy"===_.difficulty?"bg-success":"bg-danger"),children:["Difficulty: ",_.difficulty]}),Object(d.jsxs)("div",{className:"col-sm-auto me-md-5 my-2 py-2 text-center rounded-pill text-light bg-quiz-blue",children:["Category: ",_.category]})]}),Object(d.jsx)("div",{className:"row text-center mb-4 mt-3",children:Object(d.jsx)("p",{className:"lead fs-2",children:f(_.question)})}),Object(d.jsxs)("form",{action:"#",onSubmit:function(e){return q(e)},children:["boolean"===_.type?Object(d.jsx)(h,{question:_,index:o,submitted:p,currentAnswer:S,setCurrentAnswer:w}):Object(d.jsx)(O,{question:_,answers:I,submitted:p,currentAnswer:S,setCurrentAnswer:w}),Object(d.jsx)("div",{className:"mt-4 d-flex justify-content-center",children:Object(d.jsx)("button",{type:"submit",ref:F,className:"btn "+(p?"btn-secondary":"btn-quiz"),disabled:!S,"aria-disabled":!S,children:p?o===t.length-1?"See Score":"Next Question":"Lock Answer"})})]}),Object(d.jsxs)("div",{className:"mt-4 border col-auto text-center align-middle rounded-pill bg-secondary fw-bold text-light",children:[o+1,"/",t.length]})]}):Object(d.jsx)(x,{state:g.LOADING_SUCCESS,setState:n})},v=function(e){var t=e.score,n=e.number,c=e.setState,s=t===parseInt(n);return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("div",{className:"row justify-content-center text-center mt-5",children:[s&&Object(d.jsx)("div",{className:"display-3 fw-bold mb-2 quiz-blue",children:"Congrats!!!"}),Object(d.jsxs)("h2",{className:"display-3 fw-bold quiz-blue",children:[Object(d.jsx)("em",{children:"You"})," know ",parseInt(t/n*100),"% of the things."]})]}),Object(d.jsxs)("div",{className:"row justify-content-center text-center mt-3 lead",children:[t," out of ",n," questions answered correctly."]}),Object(d.jsx)("div",{className:"mt-5 d-flex justify-content-center",children:Object(d.jsx)("button",{autoFocus:!0,className:"btn px-3 px-md-5 btn-quiz",onClick:function(){return c(g.SETUP)},children:"Play Again"})})]})},y=function(){return Object(d.jsxs)("div",{className:"loading",children:[Object(d.jsx)("div",{className:"spinner-border spinner-border-xl quiz-blue",role:"status"}),Object(d.jsx)("p",{children:"Loading Questions..."})]})},g={SETUP:"setup",LOADING_QUESTIONS:"loading questions",LOADING_FAIL:"loading fail",LOADING_SUCCESS:"play",FINISHED:"finish"},N=function(){var e=Object(u.a)(o.a.mark((function e(t,n,c){var s,r,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=S+"amount=".concat(t),"any"!==n||"any"!==c){e.next=7;break}return e.next=4,fetch(r);case 4:s=e.sent,e.next=12;break;case 7:return"any"!==n&&(r+="&difficulty=".concat(n)),"any"!==c&&(r+="&category=".concat(c)),e.next=11,fetch(r);case 11:s=e.sent;case 12:return e.next=14,s.json();case 14:return a=e.sent,e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)})));return function(t,n,c){return e.apply(this,arguments)}}(),S="https://opentdb.com/api.php?",w=function(){var e=Object(c.useState)(g.SETUP),t=Object(i.a)(e,2),n=t[0],s=t[1],r=Object(c.useState)(null),a=Object(i.a)(r,2),l=a[0],o=a[1],u=Object(c.useState)({number:"3",difficulty:"any",category:"any"}),j=Object(i.a)(u,2),m=j[0],O=j[1],h=Object(c.useState)(0),f=Object(i.a)(h,2),S=f[0],w=f[1];return Object(c.useEffect)((function(){n===g.LOADING_QUESTIONS&&N(m.number,m.difficulty,m.category).then((function(e){o(e)})).catch((function(e){s(g.LOADING_FAIL),console.log(e)}))}),[n,m.number,m.difficulty,m.category]),Object(c.useEffect)((function(){n===g.SETUP&&(O({number:"3",difficulty:"any",category:"any"}),o(null),w(0))}),[n]),Object(c.useEffect)((function(){n===g.LOADING_QUESTIONS&&l&&s(g.LOADING_SUCCESS)}),[l,n]),Object(d.jsxs)("div",{className:"container-fluid",children:[Object(d.jsx)("div",{className:"row text-center bg-quiz-blue",children:Object(d.jsxs)("h1",{className:"display-2 fw-bold text-light",children:["What Do ",Object(d.jsx)("em",{children:"YOU"})," Know?!"]})}),n===g.SETUP?Object(d.jsx)(b,{setParams:O,params:m,setState:s}):n===g.LOADING_QUESTIONS?Object(d.jsx)(y,{}):n===g.LOADING_SUCCESS?Object(d.jsx)(p,{questions:l.results,setState:s,score:S,updateScorePercentage:w}):g.FINISHED?Object(d.jsx)(v,{score:S,number:m.number,setState:s}):Object(d.jsx)(x,{state:n,setState:s})]})},C=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,20)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,r=t.getLCP,a=t.getTTFB;n(e),c(e),s(e),r(e),a(e)}))};a.a.render(Object(d.jsx)(s.a.StrictMode,{children:Object(d.jsx)(w,{})}),document.getElementById("root")),C()}},[[19,1,2]]]);
//# sourceMappingURL=main.c0e08e1b.chunk.js.map